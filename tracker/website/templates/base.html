{% load static %}
<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Project Tracker</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link href="{% static 'css/styles.css' %}" rel="stylesheet">
</head>
<style>
    /* Keep search bar fixed */
    .sticky-search {
        position: sticky;
        top: 70px;
        /* adjust based on your navbar height */
        z-index: 999;
        background: white;
        padding-top: 10px;
    }

    /* Keep table header fixed */
    thead th {
        position: sticky;
        top: 140px;
        /* below the search bar */
        z-index: 998;
        background: #212529 !important;
        /* table-dark color */
        color: white !important;
    }

    /* Make table scrollable */
    .table-container {
        max-height: 70vh;
        overflow-y: auto;
    }
</style>


<style>
    .custom-alert-container {
        position: fixed;
        top: 70px;
        left: 50%;
        transform: translateX(-50%);
        width: 30%;
        z-index: 9999;
    }
</style>


<body>
    {% include 'navbar.html' %}
    <br>

    {% if messages %}
    <div class="custom-alert-container">
        {% for message in messages %}
        <div class="alert alert-warning alert-dismissible fade show" role="alert">
            <center>{{ message }}</center>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {% endfor %}
        {% endif %}
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
            crossorigin="anonymous"></script>
        <script>
            // Auto-dismiss alerts after 3 seconds
            document.addEventListener("DOMContentLoaded", function () {
                const alerts = document.querySelectorAll('.alert');
                alerts.forEach(alert => {
                    setTimeout(() => {
                        // Use Bootstrap's alert dispose method
                        const bsAlert = bootstrap.Alert.getOrCreateInstance(alert);
                        bsAlert.close();
                    }, 3000);
                });
            });
        </script>
    </div>


    {% block content %}
    {% endblock %}

    <script src="{% static 'js/liveSearch.js' %}"></script>
    <script>
        enableLiveSearch("searchInput", "surveyTable");
    </script>

</body>

</html>